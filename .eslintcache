[{"C:\\Users\\Cosmin\\Desktop\\REACT\\Fragasy\\src\\index.js":"1","C:\\Users\\Cosmin\\Desktop\\REACT\\Fragasy\\src\\reportWebVitals.js":"2","C:\\Users\\Cosmin\\Desktop\\REACT\\Fragasy\\src\\App.js":"3","C:\\Users\\Cosmin\\Desktop\\REACT\\Fragasy\\src\\notification\\Notification.js":"4","C:\\Users\\Cosmin\\Desktop\\REACT\\Fragasy\\src\\context\\CartContext.js":"5","C:\\Users\\Cosmin\\Desktop\\REACT\\Fragasy\\src\\components\\ItemDetailContainer\\ItemDetailContainer.js":"6","C:\\Users\\Cosmin\\Desktop\\REACT\\Fragasy\\src\\components\\Navbar\\Navbar.js":"7","C:\\Users\\Cosmin\\Desktop\\REACT\\Fragasy\\src\\components\\Cart\\Cart.js":"8","C:\\Users\\Cosmin\\Desktop\\REACT\\Fragasy\\src\\components\\Checkout\\Checkout.js":"9","C:\\Users\\Cosmin\\Desktop\\REACT\\Fragasy\\src\\components\\ItemListContainer\\ItemListContainer.js":"10","C:\\Users\\Cosmin\\Desktop\\REACT\\Fragasy\\src\\components\\ItemDetail\\ItemDetail.js":"11","C:\\Users\\Cosmin\\Desktop\\REACT\\Fragasy\\src\\components\\CartWidget\\CartWidget.js":"12","C:\\Users\\Cosmin\\Desktop\\REACT\\Fragasy\\src\\components\\ItemList\\ItemList.js":"13","C:\\Users\\Cosmin\\Desktop\\REACT\\Fragasy\\src\\components\\CartItem\\CartItem.js":"14","C:\\Users\\Cosmin\\Desktop\\REACT\\Fragasy\\src\\hooks\\useAsync.js":"15","C:\\Users\\Cosmin\\Desktop\\REACT\\Fragasy\\src\\services\\firebase\\firestore.js":"16","C:\\Users\\Cosmin\\Desktop\\REACT\\Fragasy\\src\\services\\firebase\\index.js":"17","C:\\Users\\Cosmin\\Desktop\\REACT\\Fragasy\\src\\components\\ItemCount\\ItemCount.js":"18","C:\\Users\\Cosmin\\Desktop\\REACT\\Fragasy\\src\\components\\Item\\Item.js":"19","C:\\Users\\Cosmin\\Desktop\\REACT\\Fragasy\\src\\adapters\\productAdapter.js":"20","C:\\Users\\Cosmin\\Desktop\\REACT\\Fragasy\\src\\components\\Logo\\Logo.js":"21"},{"size":487,"mtime":1660984898000,"results":"22","hashOfConfig":"23"},{"size":362,"mtime":1660984898000,"results":"24","hashOfConfig":"23"},{"size":1366,"mtime":1660984898000,"results":"25","hashOfConfig":"23"},{"size":1346,"mtime":1660984898000,"results":"26","hashOfConfig":"23"},{"size":1754,"mtime":1660984898000,"results":"27","hashOfConfig":"23"},{"size":1299,"mtime":1661867014484,"results":"28","hashOfConfig":"23"},{"size":784,"mtime":1661866591880,"results":"29","hashOfConfig":"23"},{"size":836,"mtime":1660984898000,"results":"30","hashOfConfig":"23"},{"size":3128,"mtime":1660984898000,"results":"31","hashOfConfig":"23"},{"size":1421,"mtime":1661867014489,"results":"32","hashOfConfig":"23"},{"size":1736,"mtime":1661866754688,"results":"33","hashOfConfig":"23"},{"size":487,"mtime":1660984898000,"results":"34","hashOfConfig":"23"},{"size":342,"mtime":1661867014489,"results":"35","hashOfConfig":"23"},{"size":1161,"mtime":1660984898000,"results":"36","hashOfConfig":"23"},{"size":567,"mtime":1660984898000,"results":"37","hashOfConfig":"23"},{"size":695,"mtime":1660984898000,"results":"38","hashOfConfig":"23"},{"size":515,"mtime":1660984898000,"results":"39","hashOfConfig":"23"},{"size":917,"mtime":1661867014480,"results":"40","hashOfConfig":"23"},{"size":926,"mtime":1661867014479,"results":"41","hashOfConfig":"23"},{"size":322,"mtime":1660984898000,"results":"42","hashOfConfig":"23"},{"size":361,"mtime":1661866572152,"results":"43","hashOfConfig":"23"},{"filePath":"44","messages":"45","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1avozzz",{"filePath":"46","messages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"48","messages":"49","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"50","messages":"51","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"52","messages":"53","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"54","messages":"55","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"56"},{"filePath":"57","messages":"58","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"59","messages":"60","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"61","messages":"62","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"63"},{"filePath":"64","messages":"65","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"66"},{"filePath":"67","messages":"68","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"69","messages":"70","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"71"},{"filePath":"72","messages":"73","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"74","messages":"75","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"76","messages":"77","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"78","messages":"79","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"80","messages":"81","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"82","messages":"83","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"84","messages":"85","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"86","messages":"87","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"88","messages":"89","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Users\\Cosmin\\Desktop\\REACT\\Fragasy\\src\\index.js",[],"C:\\Users\\Cosmin\\Desktop\\REACT\\Fragasy\\src\\reportWebVitals.js",[],"C:\\Users\\Cosmin\\Desktop\\REACT\\Fragasy\\src\\App.js",[],"C:\\Users\\Cosmin\\Desktop\\REACT\\Fragasy\\src\\notification\\Notification.js",[],"C:\\Users\\Cosmin\\Desktop\\REACT\\Fragasy\\src\\context\\CartContext.js",[],"C:\\Users\\Cosmin\\Desktop\\REACT\\Fragasy\\src\\components\\ItemDetailContainer\\ItemDetailContainer.js",["90"],"import React from 'react'\nimport './ItemDetailContainer.css'\nimport { useState, useEffect } from 'react'\n// import { getProductById } from '../../asyncMock'\nimport ItemDetail from '../ItemDetail/ItemDetail'\nimport { useParams } from 'react-router-dom'\nimport { getDoc, doc } from 'firebase/firestore'\nimport { db } from '../../services/firebase'\n\nconst ItemDetailContainer = () => {\n    const [product, setProduct] = useState()\n    const [loading, setLoading] = useState(true)\n\n    const { productId } = useParams()\n\n    useEffect(() => {\n\n        getDoc(doc(db, 'products', productId)).then (response =>{\n            const data = response.data()\n            const productsAdapted = { id: response.id, ...data}\n            setProduct(productsAdapted)\n        }).catch(error => {\n            console.log(error)\n        }).finally(() => {\n            setLoading(false)\n        })\n\n        // getProductById(productId).then(response => {\n        //     setProduct(response)\n        // }).finally(() => {\n        // //     setLoading(false)\n        // })\n    }, [productId])\n\n    // if(loading) {\n    //     return <h1>Cargando...</h1>\n    // }\n\n    return(\n        <div className='ItemDetailContainer' >\n            <ItemDetail {...product} />\n        </div>\n    )\n}\n\nexport default ItemDetailContainer","C:\\Users\\Cosmin\\Desktop\\REACT\\Fragasy\\src\\components\\Navbar\\Navbar.js",[],"C:\\Users\\Cosmin\\Desktop\\REACT\\Fragasy\\src\\components\\Cart\\Cart.js",[],"C:\\Users\\Cosmin\\Desktop\\REACT\\Fragasy\\src\\components\\Checkout\\Checkout.js",["91","92"],"import { useState, useContext } from \"react\"\nimport CartContext from \"../../context/CartContext\"\n\nimport { db } from \"../../services/firebase\"\nimport { addDoc, collection, updateDoc, doc, getDocs, query, where, documentId, writeBatch } from \"firebase/firestore\"\nimport { useNavigate } from 'react-router-dom'\n\nconst Checkout = () => {\n    const [isLoading, setIsLoading] = useState(false)\n    const [orderCreated, setOrderCreated] = useState(false)\n    const { cart, getQuantity, getTotal, clearCart } = useContext(CartContext) \n\n    const navigate = useNavigate()\n\n    const totalQuantity = getQuantity()\n    const total = getTotal()\n\n    const createOrder = async () => {\n        setIsLoading(true)\n        try {\n            const objOrder = {\n                buyer: {\n                    firstName: 'Sebastian',\n                    lastName: 'Zuviria',\n                    phone: '123456789',\n                    address: 'direccion 123'\n                },\n                items: cart,\n                totalQuantity,\n                total,\n                date: new Date()\n            }\n    \n            const ids = cart.map(prod => prod.id)\n    \n            const productsRef = collection(db, 'products')\n    \n            const productsAddedFromFirestore = await getDocs(query(productsRef, where(documentId(), 'in', ids)))\n            \n            const { docs } = productsAddedFromFirestore\n    \n            const outOfStock = []\n    \n            const batch = writeBatch(db)\n    \n            docs.forEach(doc => {\n                const dataDoc = doc.data()\n                const stockDb = dataDoc.stock\n    \n                const productAddedToCart = cart.find(prod => prod.id === doc.id)\n                const prodQuantity = productAddedToCart?.quantity\n    \n                if(stockDb >= prodQuantity) {\n                    batch.update(doc.ref, { stock: stockDb - prodQuantity})\n                } else {\n                    outOfStock.push({ id: doc.id, ...dataDoc})\n                }\n            })\n    \n            if(outOfStock.length === 0) {\n                await batch.commit()\n    \n                const orderRef = collection(db, 'orders')\n                const orderAdded = await addDoc(orderRef, objOrder)\n    \n                console.log(`El id de su orden es: ${orderAdded.id}`)\n                clearCart()\n                setOrderCreated(true)\n                setTimeout(() => {\n                    navigate('/')\n                }, 3000)\n            } else {\n                console.log('Hay productos que estan fuera de stock')\n            }\n        } catch (error) {\n            console.log(error)\n        } finally {\n            setIsLoading(false)\n        }\n    }\n\n    if(isLoading) {\n        return <h1>Se esta generando tu orden...</h1>\n    }\n\n    if(orderCreated) {\n        return <h1>La orden fue creada correctamente, sera redirigido al listado de productos en 3 segundos</h1>\n    }\n\n    return (\n        <>\n            <h1>Checkout</h1>\n            <h2>Formulario</h2>\n            <button className=\"Option\" onClick={createOrder}>Generar Orden</button>\n        </>\n    )\n}\n\nexport default Checkout","C:\\Users\\Cosmin\\Desktop\\REACT\\Fragasy\\src\\components\\ItemListContainer\\ItemListContainer.js",["93"],"import React from 'react'\nimport './ItemListContainer.css'\nimport { useState, useEffect } from 'react'\n// import { getProducts, getProductsByCategory } from \"../../asyncMock\"\nimport ItemList from '../ItemList/ItemList'\nimport { useParams } from 'react-router-dom' \nimport { getDocs, collection, query, where } from 'firebase/firestore'\nimport { db } from '../../services/firebase'\n\nconst ItemListContainer = ({ greeting }) => {\n    const [products, setProducts] = useState([])\n    const [loading, setLoading] = useState(true)\n    const { categoryId } = useParams()\n\n   \n    useEffect(() => {\n        setLoading(true)\n\n        const collectionRef = !categoryId ? collection(db, 'products')\n        : query(collection(db, 'products'), where('category', '==', categoryId))\n\n        getDocs(collectionRef).then(response => {\n            const productsAdapted = response.docs.map(doc => {\n                const data = doc.data()\n                return { id: doc.id, ...data }\n            })\n            setProducts(productsAdapted)\n        }).catch(error => {\n            console.log(error)\n        }).finally(() => {\n            setLoading(false)\n        })\n    }, [categoryId])\n\n\n\n    return (\n        <div onClick={() => console.log('click en itemlistcontainer')}>\n            <h1>{`${greeting} ${categoryId || ''}`}</h1>\n            <ItemList products={products} />\n        </div>\n    )\n}\n\nexport default ItemListContainer","C:\\Users\\Cosmin\\Desktop\\REACT\\Fragasy\\src\\components\\ItemDetail\\ItemDetail.js",[],"C:\\Users\\Cosmin\\Desktop\\REACT\\Fragasy\\src\\components\\CartWidget\\CartWidget.js",[],["94","95"],"C:\\Users\\Cosmin\\Desktop\\REACT\\Fragasy\\src\\components\\ItemList\\ItemList.js",[],"C:\\Users\\Cosmin\\Desktop\\REACT\\Fragasy\\src\\components\\CartItem\\CartItem.js",[],"C:\\Users\\Cosmin\\Desktop\\REACT\\Fragasy\\src\\hooks\\useAsync.js",["96","97"],"C:\\Users\\Cosmin\\Desktop\\REACT\\Fragasy\\src\\services\\firebase\\firestore.js",[],"C:\\Users\\Cosmin\\Desktop\\REACT\\Fragasy\\src\\services\\firebase\\index.js",[],"C:\\Users\\Cosmin\\Desktop\\REACT\\Fragasy\\src\\components\\ItemCount\\ItemCount.js",[],"C:\\Users\\Cosmin\\Desktop\\REACT\\Fragasy\\src\\components\\Item\\Item.js",[],"C:\\Users\\Cosmin\\Desktop\\REACT\\Fragasy\\src\\adapters\\productAdapter.js",[],"C:\\Users\\Cosmin\\Desktop\\REACT\\Fragasy\\src\\components\\Logo\\Logo.js",[],{"ruleId":"98","severity":1,"message":"99","line":12,"column":12,"nodeType":"100","messageId":"101","endLine":12,"endColumn":19},{"ruleId":"98","severity":1,"message":"102","line":5,"column":30,"nodeType":"100","messageId":"101","endLine":5,"endColumn":39},{"ruleId":"98","severity":1,"message":"103","line":5,"column":41,"nodeType":"100","messageId":"101","endLine":5,"endColumn":44},{"ruleId":"98","severity":1,"message":"99","line":12,"column":12,"nodeType":"100","messageId":"101","endLine":12,"endColumn":19},{"ruleId":"104","replacedBy":"105"},{"ruleId":"106","replacedBy":"107"},{"ruleId":"108","severity":1,"message":"109","line":18,"column":8,"nodeType":"100","endLine":18,"endColumn":19},{"ruleId":"108","severity":1,"message":"110","line":18,"column":8,"nodeType":"100","endLine":18,"endColumn":19,"suggestions":"111"},"no-unused-vars","'loading' is assigned a value but never used.","Identifier","unusedVar","'updateDoc' is defined but never used.","'doc' is defined but never used.","no-native-reassign",["112"],"no-negated-in-lhs",["113"],"react-hooks/exhaustive-deps","React Hook useEffect was passed a dependency list that is not an array literal. This means we can't statically verify whether you've passed the correct dependencies.","React Hook useEffect has a missing dependency: 'asyncFn'. Either include it or remove the dependency array. If 'asyncFn' changes too often, find the parent component that defines it and wrap that definition in useCallback.",["114"],"no-global-assign","no-unsafe-negation",{"desc":"115","fix":"116"},"Update the dependencies array to be: [asyncFn]",{"range":"117","text":"118"},[486,497],"[asyncFn]"]